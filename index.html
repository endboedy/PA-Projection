
<!DOCTYPE html>
<html>
<head>
  <title>PA Projection</title>
  https://cdn.jsdelivr.net/npm/chart.js
  <link rel="icon" href="data:,">
  <style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
      padding: 5px;
    }
    table {
      margin-bottom: 20px;
    }
  </style>
</head>
<body>

<h3>Input Data PA</h3>
<table id="dataTable">
  <thead>
    <tr>
      <th>Hari</th>
      <th>Actual (%)</th>
      <th>Target (%)</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>1</td><td><input type="number" value="79"></td><td><input type="number" value="90"></td></tr>
    <tr><td>2</td><td><input type="number" value="93"></td><td><input type="number" value="90"></td></tr>
    <tr><td>3</td><td><input type="number" value="93"></td><td><input type="number" value="90"></td></tr>
    <tr><td>4</td><td><input type="number" value="91"></td><td><input type="number" value="90"></td></tr>
    <tr><td>5</td><td><input type="number" value="79"></td><td><input type="number" value="90"></td></tr>
    <tr><td>6</td><td><input type="number" value="85"></td><td><input type="number" value="90"></td></tr>
    <tr><td>7</td><td><input type="number" value="91"></td><td><input type="number" value="90"></td></tr>
    <tr><td>8</td><td><input type="number" value="93"></td><td><input type="number" value="90"></td></tr>
  </tbody>
</table>

<button onclick="generateChart()">Tampilkan Grafik</button>

<canvas id="myChart" width="600" height="300"></canvas>

<script>
function generateChart() {
  const table = document.getElementById('dataTable');
  const labels = [];
  const actualData = [];
  const targetData = [];

  const rows = table.querySelectorAll('tbody tr');
  rows.forEach(row => {
    const hari = row.cells[0].innerText;
    const actual = parseFloat(row.cells[1].querySelector('input').value);
    const target = parseFloat(row.cells[2].querySelector('input').value);
    labels.push(hari);
    actualData.push(actual);
    targetData.push(target);
  });

  const ctx = document.getElementById('myChart').getContext('2d');
  new Chart(ctx, {
    type: 'line',
    data: {
      labels: labels,
      datasets: [
        {
          label: 'Actual',
          data: actualData,
          borderColor: 'blue',
          backgroundColor: 'blue',
          fill: false,
          tension: 0.3,
          pointRadius: 5
        },
        {
          label: 'Target',
          data: targetData,
          borderColor: 'red',
          borderDash: [5, 5],
          fill: false
        }
      ]
    },
    options: {
      plugins: {
        title: {
          display: true,
          text: 'PA Projection'
        }
      },
      scales: {
        y: {
          beginAtZero: true,
          max: 100,
          ticks: {
            callback: value => value + '%'
          }
        }
      }
    }
  });
}
</script>

</body>
